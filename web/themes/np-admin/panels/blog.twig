{% extends '@np-admin/split_panel.twig' %}

{% block panel_nav %}Blog{% endblock %}

{% block column_1 %}
    <h2>Drafts</h2>
    <form id="new_post">
        <input id="np_new_post_title" type="text" class="span3" placeholder="Start a draftâ€¦">
    </form>
    <ul class="unstyled np_post_list">
        {% for draft in drafts %}
            <li><a href="{{ path('admin_blog_edit_post', {post: draft.id}) }}">{{ draft.title }}</a></li>
        {% else %}
            <li>No drafts.</li>
        {% endfor %}
    </ul>

    {% if drafts_page_count > 1 %}
        <div class="pagination pagination-mini">
            <ul>
                {% for page in 1..drafts_page_count %}
                    <li{% if page == page_number %} class="active"{% endif %}>
                        <a href="{{ path('admin_blog_drafts', {page: page}) }}">{{ page }}</a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

{% endblock %}

{% block column_2 %}
    <h2>Published</h2>
    <ul class="unstyled np_post_list">
        {% for post in posts %}
            <li><a href="{{ path('admin_blog_edit_post', {post: post.id}) }}">{{ post.title }}</a></li>
        {% else %}
            <li>No published posts.</li>
        {% endfor %}
    </ul>

    {% if published_page_count > 1 %}
        <div class="pagination pagination-mini">
            <ul>
                {% for page in 1..published_page_count %}
                    <li{% if page == page_number %} class="active"{% endif %}>
                        <a href="{{ path('admin_blog_posts', {page: page}) }}">{{ page }}</a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

{% endblock %}